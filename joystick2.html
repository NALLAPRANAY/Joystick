<!DOCTYPE html>
<html>

<head>
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <style type="text/css">
        #circle {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background-color: lightgray;
            position: relative;
            margin-left: 300px;
            margin-top:500px;
        }

        .arrow {
            position: absolute;
            width: 100px;
            height: 100px;
            background-color: white;
            border: none;
            border-radius: 50%;
            font-size: 40px;
            text-align: center;
            line-height: 50px;
            cursor: pointer;
            text-decoration: none;
        }

        .center {
            position: absolute;
            top: 150px;
            left: 150px;
            width: 100px;
            height: 100px;
            background-color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
        }

        #up {
            top: 10px;
            left: calc(50% - 50px);
            /* 25px left */
        }

        #right {
            top: calc(50% - 45px);
            right: 10px;
        }

        #down {
            bottom: 10px;
            left: calc(50% - 50px);
            /* 25px right */
        }

        #left {
            top: calc(50% - 45px);
            left: 10px;
        }
    </style>

</head>

<body>
<!--     <div class="container-fluid">
        <div class="row">
            <div class="col-4"></div>
            <div class="col-4">
                <div id="circle" class="mx-auto m-5">
                    <button id="up" class="arrow">&#8593;</button>
                    <button id="right" class="arrow">&#8594;</button>
                    <button id="down" class="arrow">&#8595;</button>
                    <button id="left" class="arrow">&#8592;</button>
                    <button id="center" class="center">STOP</button>
                </div>
            </div>
            <div class="col-4"></div>

        </div>
    </div> -->
    <div id="circle" class="">
           <button id="up" class="arrow">&#8593;</button>
           <button id="right" class="arrow">&#8594;</button>
           <button id="down" class="arrow">&#8595;</button>
           <button id="left" class="arrow">&#8592;</button>
           <button id="center" class="center">STOP</button>
     </div>


</body>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
<script>
    var up, down, left, right, upVal, downVal, leftVal, rightVal, center, centerVal = 0;
    function updates() {
        
    //   fetch('https://blynk.cloud/external/api/get?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v2') // Replace token and pin number
    //     .then(response => response.json())
    //     .then(data => {
    //       if (data && data[0] && data[0].value) {
    //         const pinValue = parseInt(data[0].value, 10);
    //         console.log(pinValue);
    //         // Process the pin value as needed
    //       } else {
    //         console.log('Unable to retrieve pin value');
    //       }
    //     })
    //     .catch(error => {
    //       console.log(error);
    //       // Handle any errors that occur during the fetch request
    //     });
    


        fetch('https://blynk.cloud/external/api/get?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v2') // switch
            .then(response => response.json())
            .then(data => {
                const myJSON = JSON.stringify(data);
                up = myJSON;
               
                if (up == 1) {
                    upVal = 1
                }
                else {
                    upVal = 0
                }
            })
        fetch('https://blynk.cloud/external/api/get?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v3') // switch
            .then(response => response.json())
            .then(data => {
                const myJSON = JSON.stringify(data);
                down = myJSON;
                if (down == 1) {
                    downVal = 1
                }
                else {
                    downVal = 0
                }
            })
        fetch('https://blynk.cloud/external/api/get?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v4') // switch
            .then(response => response.json())
            .then(data => {
                const myJSON = JSON.stringify(data);
                left = myJSON;
                if (left == 1) {
                    leftVal = 1
                }
                else {
                    leftVal = 0
                }
            })
        fetch('https://blynk.cloud/external/api/get?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v5') // switch
            .then(response => response.json())
            .then(data => {
                const myJSON = JSON.stringify(data);
                right = myJSON;
                console.log(right)
                if (right == 1) {
                    rightVal = 1
                }
                else {
                    rightVal = 0
                }
            })
        fetch('https://blynk.cloud/external/api/get?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v6') // switch
            .then(response => response.json())
            .then(data => {
                const myJSON = JSON.stringify(data);
                center = myJSON;
                if (center == 1) {
                    centerVal = 1
                }
                else {
                    centerVal = 0
                }
            })
    }
    setInterval(updates, 3000)
    document.getElementById("up").addEventListener("click", function () {
        if (upVal == 1) {
            fetch('https://blynk.cloud/external/api/update?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v2=0').then(response => {
                if (response.ok) {
                    // $("#up").css("color", "rgb(140, 178, 181)");
                    console.log("UP0")
                }
                else {
                    throw new Error("failed")
                }
            }).catch(error => console.error(error));
            upVal = 0
        }
        else {
            fetch('https://blynk.cloud/external/api/update?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v2=1').then(response => {
                if (response.ok) {

                    // $("#up").css("color", "green")
                    console.log("UP1")
                }
                else {
                    throw new Error(`Failed to set value for virtual pin ${pin_number}`); // Log error message to console
                }
            }).catch(error => console.error(error));
            upVal = 1;

        }
    });

    document.getElementById("right").addEventListener("click", function () {
        
        if (rightVal == 1) {
            fetch('https://blynk.cloud/external/api/update?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v5=0').then(response => {
                if (response.ok) {
                    console.log("r0")
                }
                else {
                    throw new Error("failed")
                }
            }).catch(error => console.error(error));
            rightVal = 0
        }
        else {
            fetch('https://blynk.cloud/external/api/update?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v5=1').then(response => {
                if (response.ok) {

                    console.log("r1")
                }
                else {
                    throw new Error(`Failed to set value for virtual pin ${pin_number}`); // Log error message to console
                }
            }).catch(error => console.error(error));
            rightVal = 1;

        }
    });
    document.getElementById("left").addEventListener("click", function () {
        if (leftVal == 1) {
            fetch('https://blynk.cloud/external/api/update?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v4=0').then(response => {
                if (response.ok) {
                    console.log("l0")
                }
                else {
                    throw new Error("failed")
                }
            }).catch(error => console.error(error));
            leftVal = 0
        }
        else {
            fetch('https://blynk.cloud/external/api/update?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v4=1').then(response => {
                if (response.ok) {

                    console.log("l1")
                }
                else {
                    throw new Error(`Failed to set value for virtual pin ${pin_number}`); // Log error message to console
                }
            }).catch(error => console.error(error));
            leftVal = 1;

        }
    });
    document.getElementById("down").addEventListener("click", function () {
        if (downVal == 1) {
            fetch('https://blynk.cloud/external/api/update?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v3=0').then(response => {
                if (response.ok) {
                    console.log("d0")
                }
                else {
                    throw new Error("failed")
                }
            }).catch(error => console.error(error));
            downVal = 0
        }
        else {
            fetch('https://blynk.cloud/external/api/update?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v3=1').then(response => {
                if (response.ok) {

                    console.log("d1")
                }
                else {
                    throw new Error(`Failed to set value for virtual pin ${pin_number}`); // Log error message to console
                }
            }).catch(error => console.error(error));
            downVal = 1;

        }
    });

    document.getElementById("center").addEventListener("click", function () {
        if (centerVal == 1) {
            fetch('https://blynk.cloud/external/api/update?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v6=0').then(response => {
                if (response.ok) {
                    console.log("c0")
                }
                else {
                    throw new Error("failed")
                }
            }).catch(error => console.error(error));
            centerVal = 0
        }
        else {
            fetch('https://blynk.cloud/external/api/update?token=AiI0iw1zg8kV6IN9lErjEOwyw6yDIySo&v6=1').then(response => {
                if (response.ok) {

                    console.log("c1")
                }
                else {
                    throw new Error(`Failed to set value for virtual pin ${pin_number}`); // Log error message to console
                }
            }).catch(error => console.error(error));
            centerVal = 1;

        }
    });




</script>

</html>
